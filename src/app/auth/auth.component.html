<main>
    <p-toast></p-toast>
    <div id="login-container" [ngStyle]="isLogin ? { 'height': '55vh' } : { 'height': '70vh' }">
        <img src="/mi_logo.png" alt="logo" width="50" height="50" id="logo-img" />
        <form *ngIf="isLogin" [formGroup]="authForm" class="auth-form">
            <div class="form-field-container">
                <label for="email" class="form-field-label">Email</label>
                <input id="email" type="text" formControlName="email" />
            </div>

            <div class="form-field-container">
                <label for="password" class="form-field-label">Password</label>
                <p-password formControlName="password" [feedback]="false" />
                <small id="forgot-password">Forgot Password</small>
            </div>

            <div class="form-field-container">
                <button class="submit-btn" (click)="onSubmit()">Login</button>
            </div>
            <div class="form-field-container">
                <p><small>Don't have an account. <b style="cursor: pointer;" (click)="toggleAuthMode()">Sign Up
                            Now</b></small></p>
            </div>
        </form>

        <form *ngIf="!isLogin" [formGroup]="authForm" class="auth-form">
            <div class="form-field-container">
                <label for="fullname" class="form-field-label">Full Name</label>
                <input id="fullname" type="text" formControlName="fullName" />
            </div>

            <div class="form-field-container">
                <label for="role" class="form-field-label">Role</label>
                <p-select formControlName="roleId" [options]="Roles" optionLabel="name" optionValue="roleId"
                    placeholder="Select a Role" />
            </div>

            <div class="form-field-container">
                <label for="reg-email" class="form-field-label">Email</label>
                <input id="reg-email" type="email" formControlName="email" />
            </div>

            <div class="form-field-container">
                <label for="reg-password" class="form-field-label">Password</label>
                <p-password formControlName="password" autocomplete="off">
                    <ng-template #header>
                        <div class="font-semibold text-xm mb-4">Pick a password</div>
                    </ng-template>
                    <ng-template #footer>
                        <p-divider />
                        <ul class="pl-2 ml-2 my-0 leading-normal">
                            <li>At least one lowercase</li>
                            <li>At least one uppercase</li>
                            <li>At least one numeric</li>
                            <li>Minimum 8 characters</li>
                        </ul>
                    </ng-template>
                </p-password>
            </div>

            <div class="form-field-container">
                <button class="submit-btn" id="register-btn" (click)="onSubmit()">Register Now</button>
            </div>
            <div class="form-field-container">
                <p><small>Already have an account? <b (click)="toggleAuthMode()"
                            style="cursor:pointer;">Login</b></small></p>
            </div>
        </form>
    </div>
</main>