<div class="stackholder-container" [ngClass]="{ 'drawer-open': isDrawerOpen }">
    <div class="title-header">
        <h2>Stakeholder Directory</h2>
    </div>

    <div class="grid">
        <div class="col-12 sm:col-6 lg:col-4 xl:col-4" *ngFor="let user of users">
            <p-card>
                <!-- Top Row: Avatar, Info & Menu -->
                <div class="flex justify-content-between align-items-start mb-2">
                    <div class="flex align-items-center gap-3">
                        <p-avatar [image]="user.image" shape="circle"
                            styleClass="w-4rem h-4rem flex-shrink-0"></p-avatar>

                        <div class="flex flex-column overflow-hidden">
                            <strong>{{ user.name }}</strong>
                            <small class="text-sm text-gray-600 truncate-email">
                                {{ user.email }}
                            </small>
                        </div>
                    </div>

                    <div class="menu-wrapper">
                        <p-menu #menu [popup]="true" [model]="menuItems"></p-menu>
                        <button pButton type="button" icon="pi pi-ellipsis-v" class="p-button-text p-button-sm zia"
                            (click)="menu.toggle($event)" aria-label="Options"></button>
                    </div>
                </div>

                <!-- Role Badge -->
                <div class="mt-3">
                    <span class="px-2 py-1 text-sm border-round font-medium" [ngClass]="{
              'bg-blue-100 text-blue-800': user.role === 'Customer',
              'bg-orange-100 text-orange-800': user.role === 'Lead'
            }">
                        {{ user.role }}
                    </span>
                </div>
            </p-card>
        </div>
    </div>
</div>